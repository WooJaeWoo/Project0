<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="robots" content="noindex">
	<title>Overscroll in Chrome</title>
	<meta name="viewport" content="width=device-width, user-scalable=no">
</head>
<body cz-shortcut-listen="true">
<input id="preventPullToRefresh" type="checkbox">Prevent pull-to-refresh?
<br>
<input id="preventOverscrollGlow" type="checkbox">Prevent overscroll glow?
<br>
<input id="preventScroll" type="checkbox">Prevent scroll?

<div style="height:4000px">
<br>
<script>
window.addEventListener('load', function() {
	var preventPullToRefreshCheckbox = document.getElementById('preventPullToRefresh');
	var preventOverscrollGlowCheckbox = document.getElementById("preventOverscrollGlow");
	var preventScrollCheckbox = document.getElementById("preventScroll");

	var maybePreventPullToRefresh = false;
	var lastTouchY = 0;
	var touchstartHandler = function(e) {
		if (e.touches.length != 1) return;
		lastTouchY = e.touches[0].clientY;
		// Pull-to-refresh will only trigger if the scroll begins when the
		// document's Y offset is zero.
		maybePreventPullToRefresh = window.pageYOffset == 0;
	}

	var touchmoveHandler = function(event) {
		var touchY = event.touches[0].clientY;
		var touchYDelta = touchY - lastTouchY;
		lastTouchY = touchY;
		
		event.preventDefault();
		return;
		
		if (maybePreventPullToRefresh) {
			maybePreventPullToRefresh = false;
			if (touchYDelta > 0) {
				event.preventDefault();
				return;
			}
		}

		if (preventOverscrollGlowCheckbox.checked) {
			if (window.pageYOffset == 0 && touchYDelta > 0) {
				event.preventDefault();
				return;
			}
		}
	}

	document.addEventListener('touchstart', touchstartHandler, false);
	document.addEventListener('touchmove', touchmoveHandler, false);
});
</script>


</div></body></html>